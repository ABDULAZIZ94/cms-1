{% extends base.html %}

{% block core %}
    <h1><a href="/">Home</a> - {{contest.name}}</h1>
    
    <form name="addcontest" action="/contest/{{contest.couch_id}}/edit" method="POST">
    <table>
    <tr>
      <td>Name</td>
      <td><input type="text" name="name" value={{contest.name}}></td>
    </tr>
    <tr>
      <td>Description</td>
      <td><textarea name="description">{{contest.description}}</textarea></td>
    </tr>
    <tr>
      <td>Initial number of tokens</td>
      <td><input type="text" name="token_initial" value={{contest.token_initial}} size=3></td>
    </tr>
    <tr>
      <td>Maximum accumulated tokens</td>
      <td><input type="text" name="token_max" value={{contest.token_max}} size=3></td>
    </tr>
    <tr>
      <td>Total number of tokens</td>
      <td><input type="text" name="token_total" value={{contest.token_total}} size=3></td>
    </tr>
    <tr>
      <td>Interval between tokens</td>
      <td>
      <select name="min_interval_hour">
      {% for hour in range(0,24) %}
        <option {% if contest.token_min_interval % 60 == hour %}selected{% end %}>{{ hour }}</option>
      {% end %}
      </select>
      <select name="min_interval_minute">
      {% for minute in range(0,60) %}
        <option {% if contest.token_min_interval / 60 == minute %}selected{% end %} >{{ minute }}</option>
      {% end %}
      </select>
      </td>
    </tr>
    <tr>
      <td>Token generation period</td>
      <td>
      <select name="token_gen_hour">
      {% for hour in range(0,24) %}
        <option {% if contest.token_gen_time % 60 == hour %}selected{% end %} >{{ hour }}</option>
      {% end %}
      </select>
      <select name="token_gen_minute">
      {% for minute in range(0,60) %}
        <option {% if contest.token_gen_time / 60 == minute %}selected{% end %} >{{ minute }}</option>
      {% end %}
      </select>
      </td>
    </tr>
    <tr>
      <td>Start</td>
      {% for fieldname in ["start"] %}
      <td>{% include datetimefield.html %}</td>
      {% end %}
    </tr>
    <tr>
      <td>End</td>
      {% for fieldname in ["end"] %}
      <td>{% include datetimefield.html %}</td>
      {% end %}
    </tr>
    </table>
    <input type="submit">
    </form>
    
    <h2>Tasks</h2>
    <h2>Users</h2>
{% end %}
