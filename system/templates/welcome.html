<html>
<head>
    <title>{{ contest.name }}</title>
</head>
<body>
    <h1>{{ contest.name }}</h1>
    <div>{{ contest.description }}</div>
    <!-- login form-->
    {% if current_user == None %}
        {% if handler.get_arguments("login_error") != [] %}
            <p style="color:red">Failed to log in.</p>
        {% end %}
        <form action="/login" method="POST">
        <table>
        <tr>
            <td>
                Username:
            </td><td>
                <input type="text" name="username">
            </td>
        </tr><tr>
            <td>
                Password:
            </td><td>
                <input type="password" name="password">
            </td>
        </tr><tr>
            <td colspan=2>
                <input type="submit" value="Sign in">
            </td>
        </tr>
        </table>
        </form>
    {% else %}
        <div>Benvenuto {{ current_user.username }}!</br>
        <a href="/logout">Logout</a>
        </div>
        <div>
        <h2>Problemi</h2>
        <ul>
        {% for t in contest.tasks %}
            <li><a href="/tasks/{{ t.name }}">{{ t.name }}</a> - 
            <a href="/submissions/{{ t.name }}">Submissions</a>
            <form enctype="multipart/form-data" action="/submit/{{ t.name }}" method="post">
              <input type="file" name="{{ t.name }}"></input>
              <input type="submit" value="Submit"></input>
            </form>
        {% end %}
        </ul>
    {% end %}
</body>
</html>
